webpackJsonp([4],{Qhge:function(t,e){},b0WN:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Gu7T"),i=a.n(s),_=a("Xxa5"),n=a.n(_),l=a("exGp"),g=a.n(l),r=(a("mtWM"),{name:"WeightComponent",data:function(){return{xAxisWidth:"",weightOptions:this.$_getChartsOption([],[],[]),last_weight_data:{weight_range_describe:[],weight_range:[]}}},mounted:function(){this.$nextTick(function(){this.xAxisWidth=parseInt(this.$refs.weight.$el.children[0].style.width.replace("px",""))/7,this.$_getLast(),this.$_getChart()})},methods:{$_getLast:function(){var t=this;return g()(n.a.mark(function e(){var a,s,i,_,l;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get(t.$configHttp.path+"/weight/getLast?member_id="+window._member_id);case 3:"C0000"===(a=e.sent).data.code&&(console.log("result: last weight,",t.$refs),t.last_weight_data=a.data.data,s=t.last_weight_data.weight,i=t.last_weight_data.weight_range[0],_=t.last_weight_data.weight_range[1],l=t.last_weight_data.weight_range[2],s<=i?setTimeout(function(){t.$refs.thin.style.left=100-parseInt(((i-s)/100*100).toFixed(2))+"%",console.log(t.$refs.thin.style.left)},0):s<=_?setTimeout(function(){t.$refs.standard.style.left=100-parseInt(((_-s)/(_-i)*100).toFixed(2))+"%",console.log(t.$refs.standard.style.left)},0):s<=l?setTimeout(function(){t.$refs.chubby.style.left=100-parseInt(((l-s)/(l-_)*100).toFixed(2))+"%",console.log(t.$refs.chubby.style.left)},0):setTimeout(function(){t.$refs.fat.style.left=100-parseInt(((s-l)/100*100).toFixed(2))+"%",console.log(t.$refs.fat.style.left)},0)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()},$_getChart:function(){var t=this;return g()(n.a.mark(function e(){var a,s,_,l;return n.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get(t.$configHttp.path+"/weight/getLastSeven2H5?member_id="+window._member_id);case 3:if("C0000"===(a=e.sent).data.code){for(console.log("chart weight,",a),s=a.data.data.map(function(t){return t.create_date});s.length<7;)s.push(" ");for(_=a.data.data.map(function(t){return t.weight});_.length<7;)_.push("");for(l=a.data.data.map(function(t,e){return Math.max.apply(Math,i()(_))-Math.min.apply(Math,i()(_))>10?{value:t.weight,xAxis:e,yAxis:t.weight+3}:{value:t.weight,xAxis:e,yAxis:t.weight+1}});l.length<7;)l.push({value:"",xAxis:"",yAxis:""});console.log(s,_,l),t.weightOptions=t.$_getChartsOption(s,_,l)}e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Whoops: something went wrong!",e.t0);case 10:case"end":return e.stop()}},e,t,[[0,7]])}))()},$_getChartsOption:function(t,e,a){return{grid:{left:"5%",right:"0%"},tooltip:{show:!1,trigger:"axis"},xAxis:{type:"category",boundaryGap:!0,data:t,axisLine:{lineStyle:{color:"rgba(153,153,153,1)"}},axisLabel:{interval:0,verticalAlign:"top",lineHeight:50,color:"rgba(153,153,153,1)",width:this.xAxisWidth,height:50,borderWidth:200,textBorderWidth:200,rich:{}}},yAxis:{type:"value",min:function(t){return parseInt(t.min-5)},max:function(t){return parseInt(t.max+5)},axisLine:{lineStyle:{color:"rgba(153,153,153,1)"}},axisLabel:{color:"rgba(153,153,153,1)"},splitLine:{show:!0,color:"#fff",lineStyle:{type:"dashed"}}},series:[{name:"体重",type:"line",data:e,smooth:!0,symbolSize:10,itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#27B5E9"},{offset:1,color:"#2283E2"}],globalCoord:!1}},lineStyle:{width:6},markPoint:{data:a,symbol:'path://M8,12 L50.7291667,12 L57.5,0 L64.2708333,12 L107,12 C111.418278,12 115,15.581722 115,20 L115,57 C115,61.418278 111.418278,65 107,65 L8,65 C3.581722,65 -1.36697717e-14,61.418278 -1.42108547e-14,57 L0,20 C1.42102658e-15,15.581722 3.581722,12 8,12 Z" id="Rectangle-43',symbolSize:[55,30],symbolRotate:180,label:{fontSize:16},itemStyle:{color:"#26A5FD"}},markLine:{data:[{type:"average",name:"平均值"}]}}]}}}}),h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"weight-bg",on:{focus:function(t){this.blur()}}},[a("div",{staticClass:"weight-content"},[a("div",{staticClass:"weight-result"},[a("div",{staticClass:"result"},[a("p",[t._v("\n          最近测量结果\n          "),a("span",[t._v(t._s(t.last_weight_data.create_date))])]),t._v(" "),a("div",{staticClass:"result-content"},[a("div",{staticClass:"result-left"},[t._v(t._s(t.last_weight_data.weight))]),t._v(" "),a("div",{staticClass:"result-kg"},[t._v("KG")]),t._v(" "),a("div",{staticClass:"result-status"},[t._v(t._s(t.last_weight_data.status))])]),t._v(" "),a("div",{staticClass:"result-background"},[a("br"),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("br"),t._v(" "),a("p",[t._v("\n            BMI值\n            "),a("label",[t._v(t._s(t.last_weight_data.bmi))]),t._v("\n            "+t._s(t.last_weight_data.bmi_status)+"，目标\n            "),a("label",[t._v(t._s(t.last_weight_data.standard_weight))]),t._v(" kg，\n            "),t.last_weight_data.need_change<0?a("label",[t._v("还需减重 "+t._s(Math.abs(t.last_weight_data.need_change)||"")+" kg")]):a("label",[t._v("还需增重 "+t._s(Math.abs(t.last_weight_data.need_change)||"")+" kg")])])])]),t._v(" "),a("div",{staticClass:"suggestion"},[a("p",{staticClass:"suggestion-title"},[t._v("健康建议")]),t._v(" "),a("p",{staticClass:"suggestion-content"},[t._v(t._s(t.last_weight_data.weight_suggestion))]),t._v(" "),a("div",{staticClass:"weight-range"},[t.last_weight_data.weight_status?a("div",{staticClass:"open-icon"},[a("span",{staticClass:"thinnish-bg open-icon-line"},[a("span"),t._v(" "),a("div",{ref:"thin",class:t.last_weight_data.weight_status===t.last_weight_data.weight_range_describe[0]?"triangle show":"triangle"},[t.last_weight_data.weight_status===t.last_weight_data.weight_range_describe[0]?a("div",{class:t.last_weight_data.weight_status===t.last_weight_data.weight_range_describe[0]?"show-label":""},[t._v(t._s(t.last_weight_data.weight))]):t._e()]),t._v(" "),a("span",[t._v(t._s(t.last_weight_data.weight_range_describe[0]))])]),t._v(" "),a("span",{staticClass:"standard-bg open-icon-line"},[a("span",[t._v(t._s(t.last_weight_data.weight_range[0]))]),t._v(" "),a("div",{ref:"standard",class:t.last_weight_data.weight_status===t.last_weight_data.weight_range_describe[1]?"triangle show":"triangle"},[t.last_weight_data.weight_status===t.last_weight_data.weight_range_describe[1]?a("div",{class:t.last_weight_data.weight_status===t.last_weight_data.weight_range_describe[1]?"show-label":""},[t._v(t._s(t.last_weight_data.weight))]):t._e()]),t._v(" "),a("span",[t._v(t._s(t.last_weight_data.weight_range_describe[1]))])]),t._v(" "),a("span",{staticClass:"chubby-bg open-icon-line"},[a("span",[t._v(t._s(t.last_weight_data.weight_range[1]))]),t._v(" "),a("div",{ref:"chubby",class:t.last_weight_data.weight_status===t.last_weight_data.weight_range_describe[2]?"triangle show":"triangle"},[t.last_weight_data.weight_status===t.last_weight_data.weight_range_describe[2]?a("div",{class:t.last_weight_data.weight_status===t.last_weight_data.weight_range_describe[2]?"show-label":""},[t._v(t._s(t.last_weight_data.weight))]):t._e()]),t._v(" "),a("span",[t._v(t._s(t.last_weight_data.weight_range_describe[2]))])]),t._v(" "),a("span",{staticClass:"fat-bg open-icon-line"},[a("span",[t._v(t._s(t.last_weight_data.weight_range[2]))]),t._v(" "),a("div",{ref:"fat",class:t.last_weight_data.weight_status===t.last_weight_data.weight_range_describe[3]?"triangle show":"triangle"},[t.last_weight_data.weight_status===t.last_weight_data.weight_range_describe[3]?a("div",{class:t.last_weight_data.weight_status===t.last_weight_data.weight_range_describe[3]?"show-label":""},[t._v(t._s(t.last_weight_data.weight))]):t._e()]),t._v(" "),a("span",[t._v(t._s(t.last_weight_data.weight_range_describe[3]))])])]):t._e()])])]),t._v(" "),a("div",{staticClass:"weight-chart"},[t._m(0),t._v(" "),a("chart",{ref:"weight",staticStyle:{width:"100%",height:"34.625rem"},attrs:{options:t.weightOptions,autoResize:!0}})],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"chart-title"},[e("span",{staticClass:"left-title"},[this._v("最近七次体重数据")]),this._v(" "),e("span",{staticClass:"right-title"},[this._v("单位：KG")])])}]};var o=a("VU/8")(r,h,!1,function(t){a("Qhge")},"data-v-ac790074",null);e.default=o.exports}});