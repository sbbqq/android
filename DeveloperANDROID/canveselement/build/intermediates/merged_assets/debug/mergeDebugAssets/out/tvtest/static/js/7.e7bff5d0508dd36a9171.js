webpackJsonp([7],{g2DD:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Xxa5"),r=a.n(s),i=a("exGp"),n=a.n(i),l=(a("mtWM"),{name:"TemperatureComponent",data:function(){return{xAxisWidth:"",temperatureOptions:this.$_getChartsOption([],[],[]),last_temperature_data:{suggestion:{},temperature:{}}}},mounted:function(){this.$nextTick(function(){this.xAxisWidth=parseInt(this.$refs.temperature.$el.children[0].style.width.replace("px",""))/7,this.$_getLast(),this.$_getChart()})},methods:{$_getLast:function(){var t=this;return n()(r.a.mark(function e(){var a,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get(t.$configHttp.path+"/temperature/getLast?member_id="+window._member_id);case 3:a=e.sent,console.log("temperature last: ",a),t.last_temperature_data=a.data.data,(s=t.last_temperature_data.temperature.temperature_data)<=35.8?t.$refs.lower.style.left=parseInt((100*(1-(35.8-s)/100)).toFixed(2))+"%":s<=37.4?t.$refs.standard.style.left=parseInt(((37.4-s)/(37.4-35.8)*100).toFixed(2))+"%":t.$refs.higher.style.left=parseInt((100*(1-(s-37.4)/100)).toFixed(2))+"%",e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}},e,t,[[0,10]])}))()},$_getChart:function(){var t=this;return n()(r.a.mark(function e(){var a,s,i,n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get(t.$configHttp.path+"/temperature/getLastSeven2H5?member_id="+window._member_id);case 3:for(a=e.sent,console.log("temperature chart: ",a),s=a.data.data.map(function(t){return t[0].split(" ")[0]});s.length<7;)s.push(" ");for(i=a.data.data.map(function(t){return+t[1]});i.length<7;)i.push("");for(n=a.data.data.map(function(t,e){return{value:+t[1],xAxis:e,yAxis:+t[1]+1}});n.length<7;)n.push({value:"",xAxis:"",yAxis:""});console.log(s,i,n),t.temperatureOptions=t.$_getChartsOption(s,i,n),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}},e,t,[[0,15]])}))()},$_getChartsOption:function(t,e,a){return{grid:{left:"5%",right:"0%"},tooltip:{show:!1,trigger:"axis"},xAxis:{type:"category",boundaryGap:!0,data:t,axisLine:{lineStyle:{color:"rgba(255,255,255,0.32)"}},axisLabel:{interval:0,verticalAlign:"top",lineHeight:50,color:"#EEEEEE",width:this.xAxisWidth,height:50,borderWidth:200,textBorderWidth:200,rich:{}}},yAxis:{type:"value",min:34,max:46,axisLine:{lineStyle:{color:"rgba(255,255,255,0)"}},axisLabel:{color:"rgba(255,255,255,0.32)"},splitLine:{show:!0,color:"#fff",lineStyle:{type:"dashed"}}},series:[{name:"体温",type:"line",data:e,smooth:!0,symbolSize:10,itemStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#27B5E9"},{offset:1,color:"#2283E2"}],globalCoord:!1}},lineStyle:{width:6},markPoint:{data:a,symbol:'path://M8,12 L50.7291667,12 L57.5,0 L64.2708333,12 L107,12 C111.418278,12 115,15.581722 115,20 L115,57 C115,61.418278 111.418278,65 107,65 L8,65 C3.581722,65 -1.36697717e-14,61.418278 -1.42108547e-14,57 L0,20 C1.42102658e-15,15.581722 3.581722,12 8,12 Z" id="Rectangle-43',symbolSize:[55,30],symbolRotate:180,label:{fontSize:16},itemStyle:{color:"#26A5FD"}},markLine:{data:[{type:"average",name:"平均值"}]}}]}}}}),o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"temperature-bg",on:{focus:function(t){this.blur()}}},[a("div",{staticClass:"temperature-content"},[a("div",{staticClass:"temperature-result"},[a("div",{staticClass:"result"},[a("p",[t._v("最近测量结果 "),a("span",[t._v(t._s(t.last_temperature_data.temperature.create_date))])]),t._v(" "),a("div",{staticClass:"result-content"},[a("div",{staticClass:"result-left"},[t._v("\n                        "+t._s(t.last_temperature_data.temperature.temperature_data)+"\n                    ")]),t._v(" "),a("div",{staticClass:"result-kg"},[t._v("\n                        ℃\n                    ")]),t._v(" "),a("div",{staticClass:"result-status"},[t._v("\n                        "+t._s(t.last_temperature_data.temperature.status)+"\n                    ")])]),t._v(" "),a("div",{staticClass:"result-background"})]),t._v(" "),a("div",{staticClass:"suggestion"},[a("p",{staticClass:"suggestion-title"},[t._v("\n                    健康建议\n                ")]),t._v(" "),a("p",{staticClass:"suggestion-content"},[t._v("\n                    "+t._s(t.last_temperature_data.suggestion.suggestion)+"\n                ")]),t._v(" "),a("div",{staticClass:"temperature-range"},[a("div",{staticClass:"open-icon"},[a("span",{staticClass:"thinnish-bg open-icon-line"},[a("span"),t._v(" "),a("div",{ref:"lower",class:"偏低"===t.last_temperature_data.temperature.status?"triangle show":"triangle"},["偏低"===t.last_temperature_data.temperature.status?a("div",{staticClass:"show-label"},[t._v("\n                                    "+t._s(t.last_temperature_data.temperature.temperature_data)+"\n                                ")]):t._e()]),t._v(" "),a("span",[t._v("偏低")])]),t._v(" "),a("span",{staticClass:"standard-bg open-icon-line"},[a("span",[t._v("35.8")]),t._v(" "),a("div",{ref:"standard",class:"正常"===t.last_temperature_data.temperature.status?"triangle show":"triangle"},["正常"===t.last_temperature_data.temperature.status?a("div",{staticClass:"show-label"},[t._v("\n                                    "+t._s(t.last_temperature_data.temperature.temperature_data)+"\n                                ")]):t._e()]),t._v(" "),a("span",[t._v("正常")])]),t._v(" "),a("span",{staticClass:"chubby-bg open-icon-line"},[a("span",[t._v("37.4")]),t._v(" "),a("div",{ref:"higher",class:"偏高"===t.last_temperature_data.temperature.status?"triangle show":"triangle"},["偏高"===t.last_temperature_data.temperature.status?a("div",{staticClass:"show-label"},[t._v("\n                                    "+t._s(t.last_temperature_data.temperature.temperature_data)+"\n                                ")]):t._e()]),t._v(" "),a("span",[t._v("偏高")])])])])])]),t._v(" "),a("div",{staticClass:"temperature-chart"},[t._m(0),t._v(" "),a("chart",{ref:"temperature",staticStyle:{width:"100%",height:"34.625rem"},attrs:{options:t.temperatureOptions,autoResize:!0}})],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"chart-title"},[e("span",{staticClass:"left-title"},[this._v("最近七次体温数据")]),this._v(" "),e("span",{staticClass:"right-title"},[this._v("单位：℃")])])}]};var u=a("VU/8")(l,o,!1,function(t){a("nnND")},"data-v-275cf161",null);e.default=u.exports},nnND:function(t,e){}});